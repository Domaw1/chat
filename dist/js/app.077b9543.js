(function(){"use strict";var e={1920:function(e,n,t){var o=t(9242),a=t(3396);function s(e,n,t,o,s,r){const i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(i)}var r={name:"App",data:()=>({})},i=t(89);const l=(0,i.Z)(r,[["render",s]]);var u=l,c=t(2483);const p={class:"home"};function d(e,n,t,o,s,r){const i=(0,a.up)("log-form");return(0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)(i,{onEnterUser:o.enter},null,8,["onEnterUser"])])}t(560);var m=t(7795),f=t(4870),g=t(2492),h=t.n(g),v=t(4287),w=t(2689),y=t(1294);t(7130);const b={apiKey:"AIzaSyA009Q03D0MhpRts_9vdIc-vUFucaXJXpU",authDomain:"chat-da855.firebaseapp.com",databaseURL:"https://chat-da855-default-rtdb.firebaseio.com",projectId:"chat-da855",storageBucket:"chat-da855.appspot.com",messagingSenderId:"994658204491",appId:"1:994658204491:web:776253afe7bb71e07e06ce"},_=(0,m.ZF)(b),U=(0,v.ad)(_);function P(e,n){const t=(0,y.cF)(),o=(0,w.v0)(),a=(0,y.iH)(t,`${n}.jpg`),s={contentType:e.type};(0,y.KV)(a,e,s).then((e=>{console.log("Uploaded a blob or file!");const t=(0,f.iH)("");k(n).then((e=>{t.value=e,(0,w.ck)(o.currentUser,{photoURL:t.value}).then((()=>{console.log("updated!")})).catch((e=>{console.log(e.message)}))})).catch((e=>{console.log(e.message)}))}))}async function k(e){const n=(0,y.cF)(),t=(0,y.iH)(n,`${e}.jpg`);return await(0,y.Jt)(t)}async function C(e){const n=(0,w.v0)(),t=await(0,w.Xb)(n,e.email,e.password);return(0,w.ck)(n.currentUser,{displayName:e.username,photoURL:"https://i.pinimg.com/736x/cb/45/72/cb4572f19ab7505d552206ed5dfb3739.jpg"}).then((()=>{console.log("updated!")})).catch((e=>{console.log(e.message)})),t}async function V(e,n){const t=(0,w.v0)(),o=(0,w.Fb)(t,w.a$).then((()=>(0,w.e5)(t,e,n))).catch((e=>{h().fire({title:"Ошибка!",text:e.message,icon:"error"})}));return o}function W(){const e=(0,f.iH)([]),n=(0,v.IO)((0,v.hJ)(U,"messages")),t=(0,v.cf)(n,(n=>{const t=n.docs.map((e=>e.data().messages));e.value=Object.values(t).flat()}));return(0,a.Ah)(t),{usersName:e}}async function j(e){const n=(0,v.ad)(_),t=(0,v.JU)(n,"messages","userMessages"),o=await(0,v.QT)(t),a={displayName:e.displayName,content:e.content,time:e.time};o.exists()?await(0,v.r7)(t,{messages:(0,v.vr)(a)}):await(0,v.pl)(t,{messages:(0,v.vr)(a)})}function O(){return new Promise(((e,n)=>{const t=(0,w.v0)();t.onAuthStateChanged((t=>{t?e(t):n(new Error("User is signed out"))}))}))}function x(){const e=(0,w.v0)();e.signOut()}var D=t(3369),N=t(6824),E=t(8521),M=t(2902);const H=e=>((0,a.dD)("data-v-75fb66f4"),e=e(),(0,a.Cn)(),e),I={class:"log-form"},T=H((()=>(0,a._)("h1",null,"Авторизация",-1)));function R(e,n,t,s,r,i){const l=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",I,[T,(0,a.Wm)(D.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E.D,{cols:"1",sm:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(M.h,{rules:[s.rules.required,s.rules.email],modelValue:s.user.inputEmail,"onUpdate:modelValue":n[0]||(n[0]=e=>s.user.inputEmail=e),clearable:"",label:"Ваша почта",type:"text",variant:"outlined",class:"shrink-password",density:"compact"},null,8,["rules","modelValue"])])),_:1})])),_:1}),(0,a.Wm)(N.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E.D,{cols:"1",sm:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(M.h,{"append-inner-icon":s.show?"mdi-eye":"mdi-eye-off",rules:[s.rules.required,s.rules.min],type:s.show?"text":"password",label:"Ваш пароль",variant:"outlined",class:"shrink-password",density:"compact",modelValue:s.user.inputPassword,"onUpdate:modelValue":n[1]||(n[1]=e=>s.user.inputPassword=e),onKeydown:(0,o.D2)(s.login,["enter"]),"onClick:appendInner":n[2]||(n[2]=e=>s.show=!s.show)},null,8,["append-inner-icon","rules","type","modelValue","onKeydown"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(l,{onClick:s.login},{default:(0,a.w5)((()=>[(0,a.Uk)("Войти")])),_:1},8,["onClick"]),(0,a._)("button",{onClick:n[3]||(n[3]=(...e)=>s.openRegPage&&s.openRegPage(...e)),class:"reg-btn"},"Зарегистрироваться...")])}function F(e,n,t,o,s,r){return(0,a.wg)(),(0,a.iD)("button",null,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var Z={name:"MyButton"};const A=(0,i.Z)(Z,[["render",F],["__scopeId","data-v-55f8c44c"]]);var z=A,S={name:"LogForm",components:{MyButton:z,VTextField:M.h,VContainer:D.K,VCol:E.D,VRow:N.o},emits:["enterUser"],setup(e,{emit:n}){const t=(0,f.iH)({inputUsername:"",inputEmail:""}),o=(0,c.tv)(),a=(0,f.iH)(!1),s={required:e=>!!e||"Обязательное поле.",min:e=>e.length>=6||"Минимум 6 символов",email:e=>{const n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)||"Неверный e-mail."}},r=()=>{if(""===t.value.inputEmail||""===t.value.inputPassword)h().fire({title:"Ошибка!",text:"Все поля обязательны к заполнению",icon:"error"});else{const e={email:t.value.inputEmail,password:t.value.inputPassword};n("enterUser",e)}},i=()=>{o.push({name:"registration"})};return{rules:s,show:a,user:t,login:r,openRegPage:i}}};const L=(0,i.Z)(S,[["render",R],["__scopeId","data-v-75fb66f4"]]);var q=L,B={name:"HomeView",components:{LogForm:q},setup(){const e=e=>{const n=V(e.email,e.password);n.then((async e=>{e&&(await h().fire({title:"Успешно!",text:"Добро пожаловать!",icon:"success"}),rn.push({name:"chat"}))})).catch((e=>{h().fire({title:"Ошибка!",text:e.message,icon:"error"})}))};return(0,a.bv)((()=>{O().then((()=>{rn.push({name:"chat"})})).catch((e=>{console.log(e.message)}))})),{enter:e}}};const K=(0,i.Z)(B,[["render",d],["__scopeId","data-v-01c5e76f"]]);var $=K,J=t(7139);const Q=e=>((0,a.dD)("data-v-bc578b12"),e=e(),(0,a.Cn)(),e),X={class:"main"},Y={class:"hat"},G=Q((()=>(0,a._)("hr",null,null,-1)));function ee(e,n,t,o,s,r){const i=(0,a.up)("user-avatar"),l=(0,a.up)("chat-window"),u=(0,a.up)("send-message-form");return(0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("div",Y,[(0,a._)("h1",{onClick:n[0]||(n[0]=e=>o.openProfile(o.us.displayName))}," Добро пожаловать, "+(0,J.zw)(o.us.displayName),1),(0,a.Wm)(i,{photo:o.us.photoURL,alt:"user avatar",class:"user-avatar",onClick:n[1]||(n[1]=e=>o.openProfile(o.us.displayName))},null,8,["photo"]),(0,a._)("button",{onClick:n[2]||(n[2]=(...e)=>o.signOut&&o.signOut(...e))},"Выйти")]),(0,a.Wm)(l,{messages:o.usersName,currentUsername:o.us.displayName},null,8,["messages","currentUsername"]),G,(0,a.Wm)(u,{displayName:o.us.displayName},null,8,["displayName"])])}var ne=t(9066);const te={class:"chat",ref:"scrollToMe"},oe={key:0,class:"spinner"},ae={class:"username"},se={class:"full-message"},re={class:"mes"},ie={class:"mes-content"},le={class:"time"};function ue(e,n,t,o,s,r){const i=(0,a.up)("user-avatar");return(0,a.wg)(),(0,a.iD)("div",te,[t.messages.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",oe,[(0,a.Wm)(ne.L,{indeterminate:"",size:75,color:"red"})])),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(t.messages,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.displayName,class:"ms"},[(0,a._)("div",{class:(0,J.C_)(e.displayName===t.currentUsername?"my-message":"my-friend-message")},[(0,a._)("div",null,[(0,a.Wm)(i,{photo:e.photo},null,8,["photo"])]),(0,a._)("div",{class:(0,J.C_)(e.displayName===t.currentUsername?"message":"friend-message")},[(0,a._)("div",ae,(0,J.zw)(e.displayName),1),(0,a._)("div",se,[(0,a._)("div",re,[(0,a._)("div",ie,(0,J.zw)(e.content),1),(0,a._)("div",le,(0,J.zw)(e.time),1)])])],2)],2)])))),128))],512)}const ce=["src"];var pe={__name:"UserAvatar",props:{photo:String},setup(e){return(n,t)=>((0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("img",{src:e.photo,alt:""},null,8,ce)]))}};const de=(0,i.Z)(pe,[["__scopeId","data-v-98555308"]]);var me=de,fe={name:"ChatWindow",components:{UserAvatar:me},props:{messages:{type:Array,required:!0},currentUsername:{type:String,required:!0}},setup(e){const n=(0,f.iH)(null);(0,a.ic)((()=>{t()}));const t=()=>{n.value&&(n.value.scrollTop=n.value.scrollHeight)};return(0,a.ic)(t),{scrollToMe:n}}};const ge=(0,i.Z)(fe,[["render",ue],["__scopeId","data-v-3998dc2a"]]);var he=ge,ve=t(6422);const we={class:"footer"},ye={class:"send"},be={class:"emojis"};function _e(e,n,t,s,r,i){const l=(0,a.up)("Picker");return(0,a.wg)(),(0,a.iD)("div",we,[(0,a.Wm)(ve.O,{onSubmit:n[2]||(n[2]=(0,o.iM)((()=>{}),["prevent"]))},{default:(0,a.w5)((()=>[(0,a._)("div",ye,[(0,a._)("div",be,[s.isEmojiOpen?((0,a.wg)(),(0,a.j4)(l,{key:0,data:s.emojiIndex,set:"twitter",onSelect:s.showEmoji,class:"picker-emoji"},null,8,["data","onSelect"])):(0,a.kq)("",!0),(0,a.Wm)(M.h,{modelValue:s.inputMessage,"onUpdate:modelValue":n[0]||(n[0]=e=>s.inputMessage=e),clearable:"",label:"Сообщение",type:"text",variant:"outlined",class:"shrink",maxlength:"1024",counter:"","append-icon":"mdi-emoticon","onClick:append":s.openEmoji,onKeydown:(0,o.D2)(s.sendMessage,["enter"])},null,8,["modelValue","onClick:append","onKeydown"])]),(0,a._)("button",{type:"submit",height:"45px",onClick:n[1]||(n[1]=(...e)=>s.sendMessage&&s.sendMessage(...e))}," Отправить ")])])),_:1})])}var Ue=t(5249),Pe=t(3289),ke=t(7471),Ce=t(2859),Ve={name:"SendMessageForm",components:{VForm:ve.O,VTextField:M.h,VTooltip:Ue.N,VIcon:Pe.t,Picker:ke.cW},props:{displayName:{type:String}},setup(e){const n=(0,f.iH)(""),t=new ke.xd(Ce),o=(0,f.iH)(""),a=(0,f.iH)(!1),s=e=>{n.value+=e.native},r=()=>{a.value?a.value=!1:a.value=!0},i=()=>{const t=new Date,o=`${t.getHours()}:${t.getMinutes()}`;if(""!==n.value.trim()){const t=n.value.trim(),s={displayName:e.displayName,content:t,time:o};j(s),n.value="",a.value=!1}};return{inputMessage:n,emojiIndex:t,emojieOutput:o,isEmojiOpen:a,sendMessage:i,showEmoji:s,openEmoji:r}}};const We=(0,i.Z)(Ve,[["render",_e],["__scopeId","data-v-d8a4383c"]]);var je=We,Oe=t(1020);const xe=(0,Oe.Q_)("users",{state:()=>({user:{},users:[],messages:[]}),getters:{getUser:e=>e.user,getUserByName:e=>n=>e.users.find((e=>e.username===n))},actions:{setUser(e){this.user=e},addUser(e){this.users.push(e)},setMessages(e){this.messages=e}}});var De={name:"ChatPage",components:{VTextField:M.h,VProgressCircular:ne.L,ChatWindow:he,SendMessageForm:je,UserAvatar:me},setup(){const e=(0,f.iH)(""),n=(0,f.iH)(""),t=(0,f.iH)(!1),{usersName:o}=W(),s=xe(),{getUserByName:r,addUser:i}=s;(0,a.YP)(o,(async()=>{for(const n of o.value){const t=r(n.displayName);try{if(t&&t.photo)n.photo=t.photo;else{const e=await k(n.displayName);i({username:n.displayName,photo:e}),n.photo=e}}catch(e){t&&t.photo||(i({username:n.displayName,photo:"https://i.pinimg.com/736x/cb/45/72/cb4572f19ab7505d552206ed5dfb3739.jpg"}),n.photo="https://i.pinimg.com/736x/cb/45/72/cb4572f19ab7505d552206ed5dfb3739.jpg")}}t.value=!0}));const l=()=>{x(),rn.push({name:"login"})},u=e=>{rn.push({name:"profile",params:{name:e}})};return(0,a.bv)((()=>{O().then((e=>{n.value=e})).catch((()=>{rn.push({name:"login"})}))})),{inputMessage:e,usersName:o,us:n,allImagesLoaded:t,openProfile:u,signOut:l}}};const Ne=(0,i.Z)(De,[["render",ee],["__scopeId","data-v-bc578b12"]]);var Ee=Ne;const Me={class:"home"};function He(e,n,t,o,s,r){const i=(0,a.up)("reg-form");return(0,a.wg)(),(0,a.iD)("div",Me,[(0,a.Wm)(i,{onCreateUser:o.create},null,8,["onCreateUser"])])}const Ie=e=>((0,a.dD)("data-v-71710646"),e=e(),(0,a.Cn)(),e),Te={class:"log-form"},Re=Ie((()=>(0,a._)("h1",null,"Регистрация",-1)));function Fe(e,n,t,o,s,r){const i=(0,a.up)("my-button");return(0,a.wg)(),(0,a.iD)("div",Te,[Re,(0,a.Wm)(D.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(N.o,{class:"mb-5"},{default:(0,a.w5)((()=>[(0,a.Wm)(E.D,{cols:"2",sm:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(M.h,{label:"Придумайте себе имя",variant:"outlined",density:"compact",class:"shrink-password",modelValue:o.newUser.inputUsername,"onUpdate:modelValue":n[0]||(n[0]=e=>o.newUser.inputUsername=e),rules:[o.rules.required]},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a.Wm)(N.o,{class:"mb-5"},{default:(0,a.w5)((()=>[(0,a.Wm)(E.D,{cols:"2",sm:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(M.h,{label:"Введите вашу почту",variant:"outlined",density:"compact",class:"shrink-password",modelValue:o.newUser.inputEmail,"onUpdate:modelValue":n[1]||(n[1]=e=>o.newUser.inputEmail=e),rules:[o.rules.email,o.rules.required]},null,8,["modelValue","rules"])])),_:1})])),_:1}),(0,a.Wm)(N.o,{class:"mb-6"},{default:(0,a.w5)((()=>[(0,a.Wm)(E.D,{cols:"1",sm:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(M.h,{"append-inner-icon":o.show1?"mdi-eye":"mdi-eye-off",rules:[o.rules.required,o.rules.min],type:o.show1?"text":"password",label:"Придумайте пароль",variant:"outlined",density:"compact",class:"shrink-password",modelValue:o.newUser.inputPassword,"onUpdate:modelValue":n[2]||(n[2]=e=>o.newUser.inputPassword=e),"onClick:appendInner":n[3]||(n[3]=e=>o.show1=!o.show1)},null,8,["append-inner-icon","rules","type","modelValue"])])),_:1})])),_:1}),(0,a.Wm)(N.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(E.D,{cols:"2",sm:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(M.h,{"append-inner-icon":o.show2?"mdi-eye":"mdi-eye-off",rules:[o.rules.required,o.rules.min,o.rules.match],type:o.show2?"text":"password",label:"Повторите пароль",variant:"outlined",density:"compact",class:"shrink-password",modelValue:o.newUser.inputRepeatPassword,"onUpdate:modelValue":n[4]||(n[4]=e=>o.newUser.inputRepeatPassword=e),"onClick:appendInner":n[5]||(n[5]=e=>o.show2=!o.show2)},null,8,["append-inner-icon","rules","type","modelValue"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(i,{class:"btn-reg",onClick:o.reg},{default:(0,a.w5)((()=>[(0,a.Uk)("Зарегистрироваться")])),_:1},8,["onClick"]),(0,a._)("button",{class:"log-btn",onClick:n[6]||(n[6]=(...e)=>o.openLogPage&&o.openLogPage(...e))},"Войти...")])}var Ze={name:"RegForm",components:{MyButton:z,VTextField:M.h,VRow:N.o,VCol:E.D,VContainer:D.K},emits:["createUser"],setup(e,{emit:n}){const t=(0,f.iH)({inputUsername:"",inputEmail:"",inputPassword:"",inputRepeatPassword:""}),o=(0,f.iH)(!1),a=(0,f.iH)(!1),s={required:e=>!!e||"Обязательное поле.",min:e=>e.length>=6||"Минимум 6 символов",match:e=>e===t.value.inputPassword||"Пароли не совпадают",email:e=>{const n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return n.test(e)||"Неверный e-mail."}},r=()=>{const e=""===t.value.inputEmail||""===t.value.inputPassword||""===t.value.inputUsername||""==t.value.inputRepeatPassword,o=t.value.inputPassword===t.value.inputRepeatPassword;if(e)h().fire({title:"Ошибка!",text:"Все поля обязательны к заполнению",icon:"error"});else if(o){const e={email:t.value.inputEmail,password:t.value.inputPassword,username:t.value.inputUsername};n("createUser",e)}else h().fire({title:"Ошибка!",text:"Пароли не совпадают",icon:"error"})},i=()=>{rn.push({name:"login"})};return{newUser:t,rules:s,show1:o,show2:a,reg:r,openLogPage:i}}};const Ae=(0,i.Z)(Ze,[["render",Fe],["__scopeId","data-v-71710646"]]);var ze=Ae,Se={name:"HomeView",components:{RegForm:ze},setup(){const e=e=>{const n=C(e);n.then((async()=>{await h().fire({title:"Успешно!",text:"Добро пожаловать!",icon:"success"}),rn.push({name:"login"})})).catch((async e=>{await h().fire({title:"Ошибка!",text:e.message,icon:"error"})}))};return{create:e}}};const Le=(0,i.Z)(Se,[["render",He],["__scopeId","data-v-785e1b48"]]);var qe=Le;const Be={class:"user-data"},Ke=["src"],$e={class:"user-contacts"};function Je(e,n,t,o,s,r){const i=(0,a.up)("my-button"),l=(0,a.up)("edit-profile-popup");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("div",Be,[(0,a._)("div",null,[(0,a._)("img",{src:o.currentUser.photoURL,alt:"userPic",class:"avatar"},null,8,Ke)]),(0,a._)("div",$e,[(0,a._)("h1",null,"Имя: "+(0,J.zw)(o.currentUser.displayName),1),(0,a._)("p",null,"Email: "+(0,J.zw)(o.currentUser.email),1),(0,a.Wm)(i,{onClick:o.openEditingPopup,style:{margin:"20px 0 20px 0"}},{default:(0,a.w5)((()=>[(0,a.Uk)("Редактировать")])),_:1},8,["onClick"]),(0,a.Wm)(l,{isOpen:o.isOpen,onHideDialog:o.hideEditingPopup,onChangeProfile:o.changeProfile},null,8,["isOpen","onHideDialog","onChangeProfile"])])])])}var Qe=t(6655);function Xe(e,n,t,s,r,i){const l=(0,a.up)("my-button");return t.isOpen?((0,a.wg)(),(0,a.iD)("div",{key:0,class:"popup",onClick:n[4]||(n[4]=(0,o.iM)(((...e)=>s.hideDialog&&s.hideDialog(...e)),["stop"]))},[(0,a._)("div",{class:"popup-content",onClick:n[3]||(n[3]=(0,o.iM)((()=>{}),["stop"]))},[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Изменить имя...","onUpdate:modelValue":n[0]||(n[0]=e=>s.propertiesToUpdate.name=e)},null,512),[[o.nr,s.propertiesToUpdate.name]]),(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Изменить почту...","onUpdate:modelValue":n[1]||(n[1]=e=>s.propertiesToUpdate.email=e)},null,512),[[o.nr,s.propertiesToUpdate.email]]),(0,a._)("div",null,[(0,a.Wm)(Qe.Z,{rules:s.rules,accept:"image/png, image/jpeg, image/bmp",placeholder:"Аватар","prepend-icon":"mdi-camera",label:"Фото профиля",class:"file_input",variant:"outlined",modelValue:s.propertiesToUpdate.photo,"onUpdate:modelValue":n[2]||(n[2]=e=>s.propertiesToUpdate.photo=e)},null,8,["rules","modelValue"])]),(0,a.Wm)(l,{onClick:s.changeProfile},{default:(0,a.w5)((()=>[(0,a.Uk)("Изменить")])),_:1},8,["onClick"])])])):(0,a.kq)("",!0)}var Ye={name:"EditProfilePopup",components:{MyButton:z,VFileInput:Qe.Z},props:{isOpen:{type:Boolean}},emits:["hideDialog","changeProfile"],setup(e,{emit:n}){const t=[e=>!e||!e.length||e[0].size<2e6||"Avatar size should be less than 2 MB!"],o=(0,f.iH)({name:"",email:"",photo:[]}),a=()=>{n("hideDialog")},s=()=>{n("changeProfile",o)};return{hideDialog:a,changeProfile:s,propertiesToUpdate:o,rules:t}}};const Ge=(0,i.Z)(Ye,[["render",Xe],["__scopeId","data-v-9addd5a0"]]);var en=Ge,nn={name:"UserProfile",components:{MyButton:z,EditProfilePopup:en},setup(){const e=(0,f.iH)({}),n=(0,f.iH)(!1),t=(0,f.iH)(null),o=()=>{n.value=!0},s=()=>{n.value=!1},r=async t=>{t.value.photo[0]&&(P(t.value.photo[0],e.value.displayName),await h().fire({title:"Успешно!",text:"Ваш профиль обновлен!",icon:"success"}),rn.go()),n.value=!1};return(0,a.bv)((()=>{O().then((n=>{e.value=n})).catch((e=>{console.log(e.message)}))})),{currentUser:e,isOpen:n,avatar:t,openEditingPopup:o,hideEditingPopup:s,changeProfile:r}}};const tn=(0,i.Z)(nn,[["render",Je],["__scopeId","data-v-c9d1b54a"]]);var on=tn;const an=[{path:"/",name:"login",component:$},{path:"/im",name:"chat",component:Ee},{path:"/registration",name:"registration",component:qe},{path:"/profile/:name",name:"profile",component:on}],sn=(0,c.p7)({history:(0,c.r5)("/chat/"),routes:an});var rn=sn,ln=(t(9773),t(8753)),un=(0,ln.Rd)();async function cn(){const e=await t.e(461).then(t.t.bind(t,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}const pn=(0,Oe.WB)();cn(),(0,o.ri)(u).use(rn).use(un).use(pn).mount("#app")}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var s=n[o]={exports:{}};return e[o].call(s.exports,s,s.exports,t),s.exports}t.m=e,function(){var e=[];t.O=function(n,o,a,s){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],s=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&s||r>=s)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var u=a();void 0!==u&&(n=u)}}return n}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[o,a,s]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){var e,n=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};t.t=function(o,a){if(1&a&&(o=this(o)),8&a)return o;if("object"===typeof o&&o){if(4&a&&o.__esModule)return o;if(16&a&&"function"===typeof o.then)return o}var s=Object.create(null);t.r(s);var r={};e=e||[null,n({}),n([]),n(n)];for(var i=2&a&&o;"object"==typeof i&&!~e.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return o[e]}}));return r["default"]=function(){return o},t.d(s,r),s}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce((function(n,o){return t.f[o](e,n),n}),[]))}}(),function(){t.u=function(e){return"js/webfontloader.8d656c58.js"}}(),function(){t.miniCssF=function(e){}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={},n="ozon:";t.l=function(o,a,s,r){if(e[o])e[o].push(a);else{var i,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var p=u[c];if(p.getAttribute("src")==o||p.getAttribute("data-webpack")==n+s){i=p;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,t.nc&&i.setAttribute("nonce",t.nc),i.setAttribute("data-webpack",n+s),i.src=o),e[o]=[a];var d=function(n,t){i.onerror=i.onload=null,clearTimeout(m);var a=e[o];if(delete e[o],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((function(e){return e(t)})),n)return n(t)},m=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/chat/"}(),function(){var e={143:0};t.f.j=function(n,o){var a=t.o(e,n)?e[n]:void 0;if(0!==a)if(a)o.push(a[2]);else{var s=new Promise((function(t,o){a=e[n]=[t,o]}));o.push(a[2]=s);var r=t.p+t.u(n),i=new Error,l=function(o){if(t.o(e,n)&&(a=e[n],0!==a&&(e[n]=void 0),a)){var s=o&&("load"===o.type?"missing":o.type),r=o&&o.target&&o.target.src;i.message="Loading chunk "+n+" failed.\n("+s+": "+r+")",i.name="ChunkLoadError",i.type=s,i.request=r,a[1](i)}};t.l(r,l,"chunk-"+n,n)}},t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,s,r=o[0],i=o[1],l=o[2],u=0;if(r.some((function(n){return 0!==e[n]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(l)var c=l(t)}for(n&&n(o);u<r.length;u++)s=r[u],t.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return t.O(c)},o=self["webpackChunkozon"]=self["webpackChunkozon"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(1920)}));o=t.O(o)})();
//# sourceMappingURL=app.077b9543.js.map